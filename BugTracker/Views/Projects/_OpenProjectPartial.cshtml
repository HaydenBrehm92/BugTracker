@using BugTracker.Models
@model ProjectViewModel
@using PagedList.Mvc

Page @(Model.All.PageCount < Model.All.PageNumber ? 0 : Model.All.PageNumber) of @Model.All.PageCount
<div id="pager">
    @Html.PagedListPager(Model.All, Page => Url.Action("UpdateListPage", "Projects", new { Page }),
    PagedListRenderOptions.EnableUnobtrusiveAjaxReplacing(new AjaxOptions() { HttpMethod = "GET", UpdateTargetId = "AllTable"}))
</div>

@if (Model.All.Count > 0)
{
    <table class="table table-hover " id="content">
        <thead>
            <tr class="d-flex">
                <th class="col-10 headerClass align-self-stretch" scope="col"></th>
                <th class="col-1 headerClass align-self-stretch" scope="col">Date Created</th>
                <th class="col-1 headerClass align-self-stretch" scope="col">Delete</th>
            </tr>
        </thead>
        <tbody>
            @foreach (var project in Model.All)
            {
                using (Html.BeginForm("Delete", "Projects", new { id = project.ID }))
                {

                    <tr class="d-flex" id="cells">
                        <td class="col-10">
                            @Html.ActionLink(project.ProjectName, "Project", "Projects", new { id = project.ID }, new
                       { style = "text-decoration:none; color:black;", @class = "blockContainer" })
                        </td>
                        <td class="col-1">

                            <i>@project.DateCreated.Date.ToShortDateString()</i>
                        </td>
                        <td class="col-1">
                            <button class="btn p-0" type="submit" value="Delete" onclick="return confirm
                                        ('Are you sure you want to delete this project?');">
                                <i class="far fa-trash-alt fa-lg blockContainer"></i>
                            </button>
                        </td>
                    </tr>
                }
            }
        </tbody>
    </table>
}




